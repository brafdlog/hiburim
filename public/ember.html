<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="Jonathan Goldfarb">
	<link rel="icon" href="../../favicon.ico">

	<!-- Bootstrap core and theme CSS -->
	<link href="/stylesheets/bootstrap/bootstrap.css" rel="stylesheet">
	<link href="/stylesheets/bootstrap/bootstrap-theme.css" rel="stylesheet">

  <!-- Bootstrap right to left extension -->
  <link rel="stylesheet" href="/stylesheets/bootstrap/bootstrap-rtl.min.css">

  <link href="/stylesheets/generalLayout.css" rel="stylesheet">
  <link href="/stylesheets/cars.css" rel="stylesheet">
  <!-- Custom stylesheet currently empty -->
  <link href="/stylesheets/ember.css" rel="stylesheet">

  <!-- Pickadate stylesheets -->
  <link href="/stylesheets/pickadate/classic.css" rel="stylesheet">
  <link href="/stylesheets/pickadate/classic.date.css" rel="stylesheet">
  <link href="/stylesheets/pickadate/classic.time.css" rel="stylesheet">
  <!-- <link href="/stylesheets/pickadate/rtl.css" rel="stylesheet"> -->

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <script src="/javascripts/jquery-2.1.1.min.js"></script>
  <script src="/javascripts/ember/handlebars-v1.3.0.js"></script>
  <script src="/javascripts/ember/ember-1.8.1.js"></script>
  <script src="/javascripts/ember/ember-data.js"></script>

  <script src="/javascripts/bootstrap/bootstrap.js"></script>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <script src="/javascripts/bootstrap/ie10-viewport-bug-workaround.js"></script>

  <script src="/javascripts/bootbox/bootbox.min.js"></script>
  <script src="/javascripts/underscore/underscore.js"></script>

  <script src="/javascripts/moment.js"></script>
  <script src="/javascripts/pickadate/picker.js"></script>
  <script src="/javascripts/pickadate/picker.date.js"></script>
  <script src="/javascripts/pickadate/picker.time.js"></script>

  <script src="/javascripts/clientCommon.js"></script>
  <script src="/javascripts/cars.js"></script>

  <script src="/javascripts/ember/app.js"></script>
  <script src="/javascripts/ember/router.js"></script>
  <script src="/javascripts/ember/routes.js"></script>
  <script src="/javascripts/ember/models.js"></script>
  <script src="/javascripts/ember/controllers.js"></script>

</head>

<body>
  <script type="text/x-handlebars">
   <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">
     <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
       <span class="sr-only">Toggle navigation</span>
       <span class="icon-bar"></span>
       <span class="icon-bar"></span>
       <span class="icon-bar"></span>
     </button>
     <a class="navbar-brand" href="#">חיבורים</a>
   </div>
   <div class="navbar-collapse collapse">
    <ul class="nav navbar-nav navbar-right">
      <li>{{#link-to 'cars'}}רכבים{{/link-to}}</li>
      <li>{{#link-to 'consumers'}}פניות{{/link-to}}</a></li>
    </ul>
  </div>
</div>
</div>

{{outlet}}

</body>
</script>

<!-- Cars table - hidden on mobile -->
<script type="text/x-handlebars" id="cars">
  <div class="row">
    <div class="col-md-1 col-md-offset-1">
      <h1 class="page-header">רכבים</h1>  
    </div>
    <div class="col-md-1 col-md-offset-8">
      <button {{action 'newCar'}} type="button" id="addCarButton" class="btn btn-primary page-header">רכב חדש</button>
    </div>
  </div>
  <div class="row">
    <div class="col-md-2 col-md-offset-1 carSearchRow">
      {{input type='text' class='form-control' value=filter placeholder='חיפוש'}}
    </div>
  </div>
  <div class="row">
    <div class="col-md-10 col-md-offset-1 main">
      <div class="hidden-xs deskopTableView">
        <div class="table-responsive">
          <table id="carsTable" class="table table-striped">
            <thead>
              <tr>
                <th {{action 'sortBy' 'carType'}}>סוג רכב</th>
                <th {{action 'sortBy' 'driverName'}}>שם הנהג</th>
                <th {{action 'sortBy' 'driverNumber'}}>טלפון של הנהג</th>
                <th {{action 'sortBy' 'availableFromDate'}}>זמין מתאריך</th>
                <th {{action 'sortBy' 'availableFromTime'}}>זמין משעה</th>
                <th {{action 'sortBy' 'availableDurationInHours'}}>זמין למשך</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
            {{#each car in filteredElements}}
              <tr {{bind-attr id=car.id}} class="nonHeaderTableRow" {{bind-attr time=car.availableFromTime}} carType="van">
                <td class="carTypeIconColumn nonEditable">
                  <img {{bind-attr src=car.carTypeUrl}} {{bind-attr alt=car.carType}} width="40px">
                </td>
                <td class="nameTd">
                  {{car.driverName}}
                </td>
                <td class="phoneNumberTd">
                  {{car.driverNumber}}
                </td>
                <td class="nonEditable">
                  <input disabled="true" type='text' class="datePicker" data-date-format="D/M"/>
                </td>
                <td class="nonEditable">
                  <input disabled="true" type="text" class="timePicker" />
                </td>
                <td class="nonEditable">
                  <input disabled="true" type='number' class="availableDuration" min="1" max="24" {{bind-attr value=car.availableDurationInHours}} />
                  שעות 
                </td>
                <td class="nonEditable">
                  <span title="ערוך" class="glyphicon glyphicon-pencil editIcon"></span>
                  <span title="מחק" {{action 'delete' car._id}} class="glyphicon glyphicon-remove deleteIcon"></span>
                  <span class="glyphicon glyphicon-ok finishedEditingIcon"></span>
                </td>
              </tr>
              {{/each}}
            </tbody>
          </table>
        </div>
      </div>
    </div>
    {{partial 'carsListMobileView'}}
  </div>
</script>

<!-- Cars list visible only on mobile -->
<script type="text/x-handlebars" id="_carsListMobileView">
  <div class="visible-xs-block mobileListView">
    <div class="row">
      <div class="col-md-2 main">
        <ul class="list-group">
          {{#each car in model}}
          {{#link-to 'car' car}}
          <li class="list-group-item">
            <div class="row">
              <div class="col-xs-3">
                {{#if car.van}}
                <img src="/images/van.png" alt="Van" width="40px">
                {{else}}
                <img src="/images/privateCar.png" alt="Private" width="40px">
                {{/if}}
              </div>
              <div class="col-xs-4">
                {{input class="dateInput" type="text" disabled="true" value=car.availableFromDate}}
              </div>
            </div>
          </li>
          {{/link-to}}
          {{/each}}
        </ul>
      </div>
      <div class="col-md-8">
        {{outlet}}
      </div>
    </div>
  </div>
</script>

<script type="text/x-handlebars" id="car">
 <div class="row" id="carDetailsRow">
  <div class="col-md-7">
    <form class="form-horizontal" role="form">
      <div class="form-group">
       <label for="driverNameInput" class="col-sm-2 control-label">שם:</label>
       <div class="col-sm-3">
        {{input id="driverNameInput" type="text" class="form-control-static" value=driverName}}
      </div>
    </div>
    <div class="form-group">
     <label for="driverNumberInput" class="col-sm-2 control-label">טלפון:</label>
     <div class="col-sm-3">
       {{input id="driverNumberInput" type="text" class="form-control-static" value=driverNumber}}
     </div>
   </div>
   <div class="form-group">
     <label for="driverDate" class="col-sm-2 control-label">תאריך:</label>
     <div class="col-sm-3">
       {{input id="driverDate" type="text" class="form-control-static" value=availableFromDate}}
     </div>
   </div>
   <div class="form-group">
     <label for="driverTime" class="col-sm-2 control-label">שעה:</label>
     <div class="col-sm-3">
       {{input id="driverTime" type="text" class="form-control-static" value=availableFromTime}}
     </div>
   </div>
   <div class="form-group">
     <label for="driverAvailableDuration" class="col-sm-2 control-label">זמין למשך:</label>
     <div class="col-sm-3">
       {{input id="driverAvailableDuration" type="text" class="form-control-static" value=availableDurationInHours}}
     </div>
   </div>
 </form>
</div>

</div>
</script>

</html>